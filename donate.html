<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donate | One Team One Fight</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gray-50 text-gray-900">

    <nav class="sticky top-0 z-50 bg-white shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <a href="index.html" class="text-2xl font-bold text-purple-700">ONE TEAM ONE FIGHT</a>
                <a href="index.html" class="text-gray-600 hover:text-purple-700 font-medium">← Back to Home</a>
            </div>
        </div>
    </nav>

    <section class="bg-purple-700 py-16 text-white text-center px-6">
        <h1 class="text-4xl font-extrabold mb-4">Support Our Fight</h1>
        <p class="text-xl text-purple-100 max-w-2xl mx-auto">Your generosity provides care packages, hospital visits, and hope to cancer patients across Kenya.</p>
    </section>

    <section class="py-16 px-6">
        <div class="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-12">
            
            <div class="lg:col-span-1 space-y-6">
                <h3 class="text-2xl font-bold mb-6">Where your money goes</h3>
                
                <div class="bg-white p-6 rounded-2xl shadow-sm border-l-4 border-purple-700">
                    <h4 class="font-bold text-purple-700">Care Packages</h4>
                    <p class="text-gray-600 text-sm">Provides basic hygiene items and comfort gifts for patients.</p>
                </div>

                <div class="bg-white p-6 rounded-2xl shadow-sm border-l-4 border-purple-700">
                    <h4 class="font-bold text-purple-700">Outreach Logistics</h4>
                    <p class="text-gray-600 text-sm">Funds transport for volunteers to reach teaching hospitals nationwide.</p>
                </div>

                <div class="bg-white p-6 rounded-2xl shadow-sm border-l-4 border-purple-700">
                    <h4 class="font-bold text-purple-700">Smiles & Hope</h4>
                    <p class="text-gray-600 text-sm">Organizing awareness events and emotional support sessions.</p>
                </div>
            </div>

            <div class="lg:col-span-2">
                <div class="bg-white rounded-3xl shadow-xl p-8 md:p-12 border border-gray-100">
                    <form id="donationForm" class="space-y-8">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-2">Donor Name</label>
                                <input type="text" name="Donor_Name" required 
                                    class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-purple-700 focus:outline-none transition" 
                                    placeholder="Your Full Name">
                            </div>
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-2">Email Address</label>
                                <input type="email" name="Email" required 
                                    class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-purple-700 focus:outline-none transition" 
                                    placeholder="email@example.com">
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-2">Amount (KES)</label>
                                <input type="number" name="Amount" required 
                                    class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-purple-700 focus:outline-none transition" 
                                    placeholder="e.g. 1000">
                            </div>
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-2">Frequency</label>
                                <select name="Frequency" required 
                                    class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-purple-700 focus:outline-none transition">
                                    <option value="One-time">One-time Donation</option>
                                    <option value="Monthly">Monthly Recurring</option>
                                </select>
                            </div>
                        </div>

                        <div class="bg-gray-50 p-6 rounded-2xl border border-dashed border-gray-300">
                            <p class="text-sm text-gray-500 italic">Note: Upon clicking submit, your pledge will be recorded and you will be directed to our secure Paystack shop to complete your payment.</p>
                        </div>

                        <button type="submit" id="donateSubmitBtn"
                            class="w-full bg-purple-700 text-white py-4 rounded-xl font-bold text-lg hover:bg-purple-800 transition shadow-lg transform active:scale-95 flex items-center justify-center gap-2">
                            <span>Continue to Payment</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                            </svg>
                        </button>
                    </form>

                    <div id="loading" class="hidden py-10 text-center">
                        <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-purple-700 mx-auto"></div>
                        <p class="mt-4 text-gray-600 font-medium">Recording your pledge and redirecting to Paystack...</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-gray-900 text-white py-12 px-6">
    <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8">
        <div class="text-center md:text-left">
            <h5 class="text-2xl font-bold text-purple-400">ONE TEAM ONE FIGHT</h5>
            <p class="text-gray-400 mt-2 italic">Founded 2018. Fighting together for a smile.</p>
        </div>
        <div class="flex flex-col items-center md:items-end gap-2">
            <p class="text-gray-500">© 2025 One Team One Fight. All Rights Reserved.</p>
            <p class="text-sm text-gray-600">
                Developed by 
                <a href="https://mrsnookum.github.io/Brighton-Portfolio/" 
                   target="_blank" 
                   class="text-purple-500 hover:text-purple-400 font-semibold transition-colors duration-300 border-b border-transparent hover:border-purple-400 pb-1">
                   Brighton The Dev
                </a>
            </p>
        </div>
    </div>
</footer>


<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbyYGLshWi_3w8N9X1OdKex44rZjTn3Wrhgf6MI0i8WPVyad5igt8rSfx0XMbzNy8zjV/exec';
    const paystackShopURL = 'https://paystack.shop/pay/otof'; 

    const form = document.getElementById('donationForm');
    const loading = document.getElementById('loading');

    form.addEventListener('submit', e => {
        e.preventDefault();
        
        // 1. Show loading state
        form.classList.add('hidden');
        loading.classList.remove('hidden');

        // 2. Save donor details to Google Sheets first
        fetch(scriptURL, { method: 'POST', body: new FormData(form)})
            .then(response => response.json())
            .then(result => {
                if (result.result === 'success') {
                    // 3. Redirect to the Paystack shop page
                    window.location.href = paystackShopURL;
                } else {
                    throw new Error(result.error);
                }
            })
            .catch(error => {
                form.classList.remove('hidden');
                loading.classList.add('hidden');
                alert('There was an issue recording your pledge. Please try again.');
                console.error('Error!', error.message);
            });
    });
</script>
</body>
</html>

